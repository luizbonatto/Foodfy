{% extends 'admin/layout.njk' %}

{% block head %}
<title>Foodfy Admin - Edição de Receita</title>
{% endblock head %}

{% block content %}

    <section class="admin__create-form">

    <h2>Editando Receita</h2>

    <form action="/admin/recipes?_method=DELETE" method="POST">
                <input type="hidden" name="id" value="{{recipe.id}}">
                <button type="submit" id="admin__delete-button">Deletar</button>            
            </form>

        <form action="/admin/recipes?_method=PUT" class="admin__form" method="POST">

            <button type="submit">Salvar Receita</button>            
               
            {% include 'admin/fields.njk'%}

            <input type="hidden" name="id" value="{{recipe.id}}">
            
        </form>
    </section>

        
    <script>

        const deleteButton = document.querySelector("#admin__delete-button")
    deleteButton.addEventListener("click", function(event){
        const confirmation = confirm("Deseja realmente apagar a receita?")
        if(!confirmation) event.preventDefault()})

    </script>

{% endblock content %}